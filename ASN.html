<html lang="en">
 <head>
  <meta charset="utf-8"/>
  <meta content="width=device-width, initial-scale=1" name="viewport"/>
  <title>
   Vendor Portal ASN with Multi PO Line Item & Partial Qty
  </title>
  <script src="https://cdn.tailwindcss.com">
  </script>
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css" rel="stylesheet"/>
  <style>
   /* Custom colors based on provided theme */
   :root {
     --purple-primary: #8E24AA;
     --purple-primary-dark: #6A1B9A;
     --gray-light-bg: #FAFAFA;
     --gray-lighter-bg: #F5F5F5;
     --gray-border: #D1D1D1;
     --text-dark-gray: #212121;
     --text-dark-gray-alt: #333333;
   }
  </style>
 </head>
 <body class="bg-[var(--gray-light-bg)] font-sans text-[var(--text-dark-gray)]">
  <div class="flex min-h-screen">
   <!-- Sidebar -->
   <aside class="w-64 bg-white border-r border-[var(--gray-border)] flex flex-col">
    <div class="flex items-center px-4 py-3 border-b border-[var(--gray-border)]">
     <img alt="Mitsubishi logo red three diamond emblem" class="h-6 w-6 mr-2" height="24" src="https://logohistory.net/wp-content/uploads/2023/01/Mitsubishi-Emblem.png" width="24"/>
     <span class="text-sm font-normal text-[var(--text-dark-gray-alt)]">
      Vendor Portal
     </span>
    </div>
    <nav class="flex-1 overflow-y-auto py-4">
     <ul class="space-y-1 px-2">
      <li>
       <a class="flex items-center gap-3 text-[var(--text-dark-gray-alt)] text-sm font-medium py-2 px-3 rounded hover:bg-[var(--gray-lighter-bg)]" href="#">
        <i class="fas fa-th-large text-lg">
        </i>
        Dashboard
       </a>
      </li>
      <li>
       <a class="flex items-center gap-3 text-[var(--text-dark-gray-alt)] text-sm font-medium py-2 px-3 rounded hover:bg-[var(--gray-lighter-bg)]" href="#">
        <i class="fas fa-file-alt text-lg">
        </i>
        Orders
       </a>
      </li>
      <li>
       <a class="flex items-center gap-3 text-[var(--text-dark-gray-alt)] text-sm font-medium py-2 px-3 rounded hover:bg-[var(--gray-lighter-bg)]" href="#">
        <i class="fas fa-box-open text-lg">
        </i>
        Products / Inventory
       </a>
      </li>
      <li>
       <a class="flex items-center gap-3 text-[var(--text-dark-gray-alt)] text-sm font-medium py-2 px-3 rounded hover:bg-[var(--gray-lighter-bg)]" href="#">
        <i class="fas fa-credit-card text-lg">
        </i>
        Payments
       </a>
      </li>
      <li>
       <a class="flex items-center gap-3 text-[var(--text-dark-gray-alt)] text-sm font-medium py-2 px-3 rounded hover:bg-[var(--gray-lighter-bg)]" href="#">
        <i class="fas fa-headset text-lg">
        </i>
        Support Tickets
       </a>
      </li>
      <li>
       <a aria-current="page" class="flex items-center gap-3 text-white text-sm font-medium py-2 px-6 rounded-full" style="background-color: var(--purple-primary);" href="#">
        <i class="fas fa-truck-loading text-lg">
        </i>
        ASN
       </a>
      </li>
      <li>
       <a class="flex items-center gap-3 text-[var(--text-dark-gray-alt)] text-sm font-medium py-2 px-3 rounded hover:bg-[var(--gray-lighter-bg)]" href="#">
        <i class="fas fa-chart-bar text-lg">
        </i>
        Analytics / Reports
       </a>
      </li>
      <li>
       <a class="flex items-center gap-3 text-[var(--text-dark-gray-alt)] text-sm font-medium py-2 px-3 rounded hover:bg-[var(--gray-lighter-bg)]" href="#">
        <i class="fas fa-cog text-lg">
        </i>
        Settings
       </a>
      </li>
     </ul>
    </nav>
    <div class="border-t border-[var(--gray-border)] p-4 text-[var(--text-dark-gray-alt)] text-sm flex items-center gap-2">
     <i class="fas fa-sign-out-alt">
     </i>
     Log at
    </div>
   </aside>
   <!-- Main content -->
   <main class="flex-1 p-6">
    <div class="bg-white rounded-lg shadow border border-[var(--gray-border)] p-6 max-w-5xl mx-auto">
     <div class="flex justify-between items-center mb-4">
      <h2 class="font-semibold text-lg" style="color: var(--purple-primary);">
       Advance Shipping Notification
      </h2>
      <button class="text-white text-sm font-semibold px-4 py-2 rounded hover:bg-[var(--purple-primary-dark)]" style="background-color: var(--purple-primary);" type="button">
       Create ASN
      </button>
     </div>
     <table class="w-full text-left text-sm border border-[var(--gray-border)] rounded-md overflow-hidden mb-6">
      <thead class="bg-[var(--gray-lighter-bg)] text-[var(--text-dark-gray-alt)] font-normal">
       <tr>
        <th class="py-3 px-4 border-b border-[var(--gray-border)]">
         ASN ID
        </th>
        <th class="py-3 px-4 border-b border-[var(--gray-border)]">
         Purchase Order
        </th>
        <th class="py-3 px-4 border-b border-[var(--gray-border)]">
         Shipment Date
        </th>
        <th class="py-3 px-4 border-b border-[var(--gray-border)]">
         Status
        </th>
        <th class="py-3 px-4 border-b border-[var(--gray-border)]">
        </th>
       </tr>
      </thead>
      <tbody class="text-[var(--text-dark-gray)]">
       <tr class="border-b border-[var(--gray-border)]">
        <td class="py-3 px-4">
         7f9a...d2c1
        </td>
        <td class="py-3 px-4">
         #4500098765
        </td>
        <td class="py-3 px-4">
         May 5, 2024
        </td>
        <td class="py-3 px-4 font-medium text-[var(--purple-primary)] hover:underline cursor-pointer">
         In Transit
        </td>
        <td class="py-3 px-4 text-gray-400">
         <i class="fas fa-chevron-right">
         </i>
        </td>
       </tr>
       <tr class="border-b border-[var(--gray-border)]">
        <td class="py-3 px-4">
         3b4e...f7a9
        </td>
        <td class="py-3 px-4">
         #4500087654
        </td>
        <td class="py-3 px-4">
         May 3, 2024
        </td>
        <td class="py-3 px-4">
         <span class="inline-block bg-purple-300 text-purple-900 text-xs font-semibold px-2 py-0.5 rounded">
          Created
         </span>
        </td>
        <td class="py-3 px-4 text-gray-400">
         <i class="fas fa-chevron-right">
         </i>
        </td>
       </tr>
       <tr>
        <td class="py-3 px-4">
         9c8d...e4b2
        </td>
        <td class="py-3 px-4">
         #4500076543
        </td>
        <td class="py-3 px-4">
         May 1, 2024
        </td>
        <td class="py-3 px-4">
         <span class="inline-block bg-purple-300 text-purple-900 text-xs font-semibold px-2 py-0.5 rounded">
          Delivered
         </span>
        </td>
        <td class="py-3 px-4 text-gray-400">
         <i class="fas fa-chevron-right">
         </i>
        </td>
       </tr>
      </tbody>
     </table>
     <form id="asnForm" onsubmit="return false;">
      <h3 class="font-semibold text-sm mb-3" style="color: var(--purple-primary);">
       Create Advance Shipping Notification
      </h3>
      <div class="mb-4">
       <label class="block text-xs font-semibold text-[var(--text-dark-gray-alt)] mb-1" for="purchaseOrder">
        Purchase Order
       </label>
       <select class="w-full border border-[var(--gray-border)] rounded px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-[var(--purple-primary)]" id="purchaseOrder" name="purchaseOrder" onchange="loadPOLineItems(this.value)">
        <option value="">
         Select a purchase order
        </option>
        <option value="4500098765">
         #4500098765
        </option>
        <option value="4500087654">
         #4500087654
        </option>
        <option value="4500076543">
         #4500076543
        </option>
       </select>
      </div>
      <div id="poLineItemsContainer" class="mb-4 hidden">
       <label class="block text-xs font-semibold text-[var(--text-dark-gray-alt)] mb-1">
        Select PO Line Items & Partial Qty
       </label>
       <div class="space-y-2 max-h-48 overflow-y-auto border border-[var(--gray-border)] rounded p-3 bg-white">
        <!-- PO line items will be dynamically inserted here -->
       </div>
      </div>
      <div class="grid grid-cols-1 md:grid-cols-2 gap-x-6 gap-y-4 mb-6">
       <div>
        <label class="block text-xs font-semibold text-[var(--text-dark-gray-alt)] mb-1" for="carrier">
         Carrier
        </label>
        <input class="w-full border border-[var(--gray-border)] rounded px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-[var(--purple-primary)]" id="carrier" name="carrier" type="text"/>
       </div>
       <div>
        <label class="block text-xs font-semibold text-[var(--text-dark-gray-alt)] mb-1" for="trackingNumber">
         Tracking Number
        </label>
        <input class="w-full border border-[var(--gray-border)] rounded px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-[var(--purple-primary)]" id="trackingNumber" name="trackingNumber" type="text"/>
       </div>
       <div class="md:col-span-2 md:w-1/2">
        <label class="block text-xs font-semibold text-[var(--text-dark-gray-alt)] mb-1" for="status">
         Status
        </label>
        <select class="w-full border border-[var(--gray-border)] rounded px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-[var(--purple-primary)]" id="status" name="status">
         <option>
          Created
         </option>
         <option>
          In Transit
         </option>
         <option>
          Delivered
         </option>
        </select>
       </div>
      </div>
      <div class="flex items-center justify-end gap-4">
       <button class="text-white text-sm font-semibold px-4 py-2 rounded hover:bg-[var(--purple-primary-dark)]" style="background-color: var(--purple-primary);" id="createBtn" type="submit">
        Create
       </button>
       <button class="text-[var(--purple-primary)] text-sm font-semibold hover:underline" id="cancelBtn" type="button" onclick="resetForm()">
        Cancel
       </button>
      </div>
     </form>
    </div>
   </main>
  </div>
  <script>
   // Sample PO line items data keyed by purchase order number
    const poLineItemsData = {
      "4500098765": [
        { id: "line1", description: "Item A - Widget", maxQty: 100 },
        { id: "line2", description: "Item B - Gadget", maxQty: 50 },
        { id: "line3", description: "Item C - Thingamajig", maxQty: 75 }
      ],
      "4500087654": [
        { id: "line4", description: "Item D - Doohickey", maxQty: 200 },
        { id: "line5", description: "Item E - Gizmo", maxQty: 120 }
      ],
      "4500076543": [
        { id: "line6", description: "Item F - Contraption", maxQty: 60 },
        { id: "line7", description: "Item G - Apparatus", maxQty: 80 },
        { id: "line8", description: "Item H - Device", maxQty: 40 }
      ]
    };

    function loadPOLineItems(poNumber) {
      const container = document.getElementById("poLineItemsContainer");
      const itemsDiv = container.querySelector("div.space-y-2");
      itemsDiv.innerHTML = "";
      if (!poNumber || !poLineItemsData[poNumber]) {
        container.classList.add("hidden");
        return;
      }
      container.classList.remove("hidden");

      poLineItemsData[poNumber].forEach(item => {
        const itemWrapper = document.createElement("div");
        itemWrapper.className = "flex items-center gap-3";

        // Checkbox for selecting line item
        const checkbox = document.createElement("input");
        checkbox.type = "checkbox";
        checkbox.id = item.id;
        checkbox.name = "poLineItems";
        checkbox.value = item.id;
        checkbox.className = "w-4 h-4 text-[var(--purple-primary)] border-[var(--gray-border)] rounded";
        checkbox.addEventListener("change", () => {
          qtyInput.disabled = !checkbox.checked;
          if (!checkbox.checked) qtyInput.value = "";
        });

        // Label for description
        const label = document.createElement("label");
        label.htmlFor = item.id;
        label.className = "flex-1 text-sm text-[var(--text-dark-gray-alt)]";
        label.textContent = item.description + ` (Max Qty: ${item.maxQty})`;

        // Quantity input for partial qty
        const qtyInput = document.createElement("input");
        qtyInput.type = "number";
        qtyInput.min = "1";
        qtyInput.max = item.maxQty;
        qtyInput.placeholder = "Qty";
        qtyInput.disabled = true;
        qtyInput.className = "w-20 border border-[var(--gray-border)] rounded px-2 py-1 text-sm focus:outline-none focus:ring-2 focus:ring-[var(--purple-primary)]";

        itemWrapper.appendChild(checkbox);
        itemWrapper.appendChild(label);
        itemWrapper.appendChild(qtyInput);

        itemsDiv.appendChild(itemWrapper);
      });
    }

    function resetForm() {
      document.getElementById("asnForm").reset();
      document.getElementById("poLineItemsContainer").classList.add("hidden");
      const itemsDiv = document.querySelector("#poLineItemsContainer div.space-y-2");
      if (itemsDiv) itemsDiv.innerHTML = "";
    }
  </script>
 </body>
</html>